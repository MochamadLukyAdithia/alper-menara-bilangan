<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Aplikasi Cagak 3D dengan Keranjang Ring</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.min.js"></script>
    <link rel="stylesheet" href="style/alper.css" />
  </head>
  <body class="bg-gray-100 overflow-hidden">
    <div id="container" class="absolute inset-0"></div>

    <!-- Controls -->
    <div
      class="absolute top-5 left-5 bg-white/90 backdrop-blur-sm p-4 rounded-xl shadow-lg z-50"
    >
      <h2 class="text-lg font-bold text-gray-800 mb-3">Kontrol</h2>
      <button
        id="clearAll"
        class="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-medium"
      >
        Hapus Semua Ring
      </button>
    </div>

    <!-- Basket -->
    <div
      class="absolute right-5 top-1/2 transform -translate-y-1/2 w-48 bg-white/90 backdrop-blur-sm rounded-xl shadow-lg p-4 z-50"
    >
      <h3 class="text-lg font-bold text-gray-800 mb-3 text-center">
        Keranjang Ring
      </h3>
      <div
        id="basket-content"
        class="border-2 border-dashed border-gray-300 rounded-lg p-3 min-h-80 max-h-80 overflow-y-auto space-y-2"
      >
        <!-- Rings will be added here -->
      </div>
    </div>

    <!-- Instructions -->
    <div
      class="absolute bottom-5 left-5 bg-white/95 backdrop-blur-sm p-4 rounded-xl shadow-lg max-w-xs z-50"
    >
      <h4 class="font-bold text-xl text-gray-800 mb-3">Cara Bermain:</h4>
      <ul class="text-sm text-gray-600 space-y-2">
        <li class="flex items-start gap-2">
          <span class="text-blue-500 font-semibold">•</span> Klik dan seret ring
          dari keranjang
        </li>
        <li class="flex items-start gap-2">
          <span class="text-blue-500 font-semibold">•</span> Lepaskan ring di
          atas cagak yang diinginkan
        </li>
        <li class="flex items-start gap-2">
          <span class="text-blue-500 font-semibold">•</span> Ring akan otomatis
          bertambah di keranjang
        </li>
      </ul>
      <button
        id="panduanBtn"
        class="mt-4 bg-gradient-to-r from-orange-700 to-yellow-600 text-white font-semibold py-2 px-4 rounded-full shadow-md hover:from-orange-800 hover:to-yellow-500 transition-all duration-200 w-full"
      >
        Panduan Lengkap
      </button>
    </div>

    <!-- Modal untuk Menampilkan panduan.html -->
    <div
      id="panduanModal"
      class="hidden fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 transition-opacity duration-300"
    >
      <div
        class="bg-white/95 p-6 rounded-2xl shadow-2xl max-w-lg w-full max-h-[80vh] overflow-y-auto transform scale-95 transition-transform duration-300"
      >
        <iframe
          id="panduanFrame"
          src=""
          class="w-full h-[60vh] border-0"
        ></iframe>
        <button
          id="tutupModalBtn"
          class="mt-4 bg-gradient-to-r from-red-500 to-red-600 text-white py-2 px-4 rounded-full hover:from-red-600 hover:to-red-700 font-semibold shadow-md hover:shadow-lg transition-all duration-200 w-full"
        >
          Tutup
        </button>
      </div>
    </div>

    <script>
      // Event listener untuk tombol Panduan Lengkap
      document.getElementById("panduanBtn").addEventListener("click", () => {
        const modal = document.getElementById("panduanModal");
        const iframe = document.getElementById("panduanFrame");
        iframe.src = "panduan.html"; // Memuat panduan.html
        modal.classList.remove("hidden");
        modal.classList.add("opacity-100");
        modal.querySelector("div").classList.remove("scale-95");
        modal.querySelector("div").classList.add("scale-100");
      });

      // Event listener untuk tombol Tutup pada modal
      document.getElementById("tutupModalBtn").addEventListener("click", () => {
        const modal = document.getElementById("panduanModal");
        modal.classList.remove("opacity-100");
        modal.classList.add("hidden");
        modal.querySelector("div").classList.remove("scale-100");
        modal.querySelector("div").classList.add("scale-95");
        document.getElementById("panduanFrame").src = ""; // Reset iframe
      });
    </script>

    <script src="js/alper.js"></script>
  </body>
</html>
